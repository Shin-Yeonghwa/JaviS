<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" type="image/x-icon" href="https://static.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">
    <link rel="mask-icon" type="" href="https://static.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111">
    <title>CodePen - Functional Combination Lock</title>
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css">
    <style>
        @import url(https://fonts.googleapis.com/css?family=Libre+Baskerville:700);

        body {
            font-family: 'Libre Baskerville', serif;
            background-color: #eee;
            background-image: linear-gradient(-45deg, #fff 25%, rgba(0, 0, 0, 0) 25%, rgba(0, 0, 0, 0) 50%, #fff 50%, #fff 75%, rgba(0, 0, 0, 0) 75%, rgba(0, 0, 0, 0));
            -webkit-background-size: 4px 4px;
            -moz-background-size: 4px 4px;
            background-size: 4px 4px;
            color: #999;
        }

        #lock-plate {
            padding: 30px 0;
            border: 1px solid #cfd3d6;
            background: #ccc;
            text-align: center;
            width: 486px;
            background: -webkit-linear-gradient(top, #eee 0%, #949ba0 100%);
            background: linear-gradient(to bottom, #eee 0%, #949ba0 100%);
            border-radius: 4px;
            margin: 50px auto;
            box-shadow: 0 1px 0 rgba(0, 0, 0, 0.6);
            position: relative;
        }

        #lock-plate span {
            display: block;
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 10px;
            box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.6), inset 0 -1px 0 rgba(255, 255, 255, 0.8);
            background: #bdc1c4;
        }

        #lock-plate span:first-child {
            top: 9px;
            left: 9px;
        }

        #lock-plate span:nth-child(2) {
            top: 9px;
            right: 9px;
        }

        #lock-plate span:nth-child(3) {
            bottom: 9px;
            left: 9px;
        }

        #lock-plate span:nth-child(4) {
            bottom: 9px;
            right: 9px;
        }

        #lock-wrapper {
            width: 396px;
            padding: 0 20px 0 8px;
            border-radius: 7px;
            height: 120px;
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.9);
            background: -webkit-linear-gradient(top, #c4c4c4 0%, #676767 100%);
            background: linear-gradient(to bottom, #c4c4c4 0%, #676767 100%);
            overflow: hidden;
            margin: 0 auto;
        }

        .welcome-message {
            position: absolute;
            top: 50%;
            left: 50%;
            height: 90px;
            width: 400px;
            margin-top: -45px;
            margin-left: -200px;
            font-size: 70px;
            font-weight: bold;
            color: #FFF;
            font-family: Arial, Helvetica, sans-serif;
            display: none;
        }

        .lock-dial {
            height: 120px;
            width: 68px;
            margin-left: 11px;
            background: -webkit-linear-gradient(top, #8c9093 0%, #b6babd 9%, #ccd2d6 18%, #ffffff 55%, #ccd2d6 82%, #b6babd 91%, #8c9093 100%);
            background: linear-gradient(to bottom, #8c9093 0%, #b6babd 9%, #ccd2d6 18%, #ffffff 55%, #ccd2d6 82%, #b6babd 91%, #8c9093 100%);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
            float: left;
            position: relative;
            cursor: move;
        }

        #lock-wrapper .lock-dial ul {
            margin: 0;
            padding: 0;
            text-align: center;
            list-style: none;
            font-size: 53px;
            line-height: 70px;
            color: #414f6b;
            text-shadow: 0 -2px 0 #212c42;
            -webkit-user-select: none;
            /* Chrome all / Safari all */
            -moz-user-select: none;
            /* Firefox all */
            -ms-user-select: none;
            transition: box-shadow .45s linear, color .25s linear;
            -webkit-transition: box-shadow .45s linear, color .25s linear;
        }

        #lock-wrapper.unlocked .lock-dial ul {
            color: green;
            text-shadow: 0 0 5px #3f3;
        }
    </style>
    <script>
        window.console = window.console || function(t) {};
    </script>
    <script>
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
    </script>
</head>

<body translate="no" style="cursor: auto;">
    THE COMBINATION IS [ 8 7 5 9 0 ]
    <div id="lock-plate">
        <span></span><span></span><span></span><span></span>
        <div id="lock-wrapper">
            <div class="welcome-message">WELCOME!</div>
            <div class="lock-dial" id="dial-one">
                <ul data-combo-num="0" class="ui-draggable ui-draggable-handle" style="top: -315px; position: relative;">
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                    <li>9</li>
                    <li>0</li>
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                </ul>
            </div>
            <div class="lock-dial" id="dial-two">
                <ul data-combo-num="0" class="ui-draggable ui-draggable-handle" style="top: -315px; position: relative;">
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                    <li>9</li>
                    <li>0</li>
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                </ul>
            </div>
            <div class="lock-dial" id="dial-three">
                <ul data-combo-num="0" class="ui-draggable ui-draggable-handle" style="top: -315px; position: relative;">
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                    <li>9</li>
                    <li>0</li>
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                </ul>
            </div>
            <div class="lock-dial" id="dial-four">
                <ul data-combo-num="0" class="ui-draggable ui-draggable-handle" style="top: -315px; position: relative; height: 700px; bottom: auto; left: 0px; margin-top: -280px;">
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                    <li>9</li>
                    <li>0</li>
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                </ul>
            </div>
            <div class="lock-dial" id="dial-five">
                <ul data-combo-num="3" class="ui-draggable ui-draggable-handle" style="top: -315px; position: relative; height: 700px; bottom: auto; left: 0px; margin-top: -420px;">
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                    <li>9</li>
                    <li>0</li>
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                    <li>9</li>
                    <li>0</li>
                    <li>1</li>
                </ul>
            </div>
        </div>
    </div>
    <script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-de7e2ef6bfefd24b79a3f68b414b87b8db5b08439cac3f1012092b2290c719cd.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
    <script id="rendered-js">
        $(function() {

            var comboArray = [0, 0, 0, 0, 0];
            var combination = [8, 7, 5, 9, 0];

            var gridIncrement = $(".lock-dial ul").css('line-height').replace('px', '') / 2;
            var numNums = $(".lock-dial:eq(0) ul li").length;
            var halfHeight = gridIncrement * numNums;
            var initTop = -(halfHeight - gridIncrement);

            $(".lock-dial ul").css('top', initTop);

            $(".lock-dial ul").draggable({
                grid: [0, gridIncrement],
                axis: 'y',
                drag: function() {
                    var dragDir = $(this).css('top').replace('px', '') < initTop ? "up" : "down";

                    if (dragDir == "up") {
                        var curNum = parseInt($(this).find('li:last-child').text()) + 1;
                        if (curNum < 10) {
                            $(this).append('<li>' + curNum + '</li>');
                        } else {
                            $(this).append('<li>0</li>');
                        };
                    } else {
                        var curNum = parseInt($(this).find('li:first-child').text()) - 1;
                        var thisTop = parseInt($(this).css('margin-top').replace('px', ''));

                        $(this).css({
                            marginTop: thisTop - gridIncrement * 2
                        });


                        if (curNum > -1) {
                            $(this).prepend('<li>' + curNum + '</li>');
                        } else {
                            $(this).prepend('<li>9</li>');
                        };
                    };
                },
                stop: function() {

                    //MATHS
                    var negOrPos = $(this).css('margin-top').replace('px', '') > 0 ? 1 : -1;
                    var thisTopTotal = parseInt($(this).css('top').replace('px', '')) + Math.abs(initTop);
                    var marginMinified = parseInt(Math.abs($(this).css('margin-top').replace('px', ''))) - thisTopTotal;
                    var numIncs = Math.floor(marginMinified / (halfHeight * 2));
                    var totalDif = numIncs * (halfHeight * 2);
                    var topTen = (marginMinified - totalDif) * negOrPos;
                    var activeIndex = Math.abs(topTen / (gridIncrement * 2)) + halfHeight / (gridIncrement * 2);

                    $(this).attr("data-combo-num", $(this).find('li').eq(activeIndex).text()).css({
                        top: -315,
                        marginTop: topTen
                    }).
                    find('li').slice(20).remove();

                    for (var i = 0; i < $(".lock-dial ul").length; i++) {
                        if (window.CP.shouldStopExecution(0)) break;
                        comboArray[i] = $(".lock-dial ul:eq(" + i + ")").attr("data-combo-num");
                    }
                    window.CP.exitedLoop(0);


                    if (comboArray == "" + combination) {
                        $('.lock-dial ul').draggable('disable');
                        $('#lock-wrapper').addClass("unlocked");
                        $('.lock-dial').each(function() {
                            var $this = $(this);
                            $this.find('ul').delay(400).css('color', '#0f0').fadeOut(function() {
                                $this.animate({
                                        marginTop: 150
                                    },
                                    function() {
                                        $this.fadeOut(function() {
                                            $('.welcome-message').fadeIn();
                                        });
                                    });
                            });
                        });
                    }
                }
            });


        });
        //# sourceURL=pen.js
    </script>


</body><audio src="" id="naver_dic_audio_controller" controls="controls" style="display: none;"></audio>

</html>